import{d as V,r as x,C as _,D as p,aI as t,aH as a,G as n,E as F,aK as y,u as D,aN as c,aO as R,aR as S,b1 as q,b2 as M,b3 as N,b4 as L,b5 as z,aW as H,b6 as W,b7 as G,b8 as K,b9 as O,ba as j}from"./arco.f893a4fd.js";import{F as J,_ as Q}from"./index.f00c939b.js";import{u as X,_ as E}from"./index.500a2a7a.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{f as Y,g as Z}from"./vue.de90413b.js";import{u as ee}from"./loading.c2b41a1f.js";import{U as oe}from"./enums.4b6db02f.js";import"./chart.3eba121e.js";const te={class:"login-form-wrapper"},se={class:"custom-login-tab"},ae={class:"login-form-password-actions"},ue=c(" \u8BB0\u4F4F\u5BC6\u7801 "),ne=c("\u5FD8\u8BB0\u5BC6\u7801"),re=c(" \u767B\u5F55 "),ie=c(" \u767B\u5F55 "),le=V({__name:"login-form",setup(d){const h=Y(),g=X(),{loading:B,setLoading:C}=ee(),e=x({currentTab:2,count:60,timer:void 0,textMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"}),s=x({username:void 0,password:void 0,rememberPwd:!1,phone:void 0,verificationCode:void 0}),w=u=>{e.currentTab=u},I=u=>{typeof u=="boolean"&&(s.rememberPwd=u)},k=async()=>{const{phone:u}=s,{validPhone:o,getCode:l}=g;return await o({phone:u})?!!await l({phone:u}):!1},P=async()=>e.timer?!1:s.phone?await k()?(e.textMessage=`${String(e.count)} s`,e.timer=window.setInterval(()=>{e.count-=1,e.textMessage=`${String(e.count)} s`,e.count===1&&(clearInterval(e.timer),e.count=60,e.timer=void 0,e.textMessage="\u83B7\u53D6\u9A8C\u8BC1\u7801")},1e3),!0):!1:(S.error("\u8BF7\u5148\u586B\u5199\u624B\u673A\u53F7\u7801"),!1),$=async({errors:u,values:o})=>{if(!u){C(!0),o.type=oe.agent;const{login:l}=g,{currentTab:i}=e;if(i===1?await l(o):await l(o)){if(h.push({name:"Workplace"}),i===1){const{rememberPwd:b}=s,{username:v,password:m}=o;Z("login-config",{username:v,password:m,rememberPwd:b})}S.success("\u767B\u5F55\u6210\u529F")}C(!1)}};return(u,o)=>{const l=q,i=M,f=N,b=L,v=z,m=H,A=W,T=G,U=K;return _(),p("div",te,[t(U,{ref:"loginForm",model:s,class:"login-form",layout:"vertical",onSubmit:$},{default:a(()=>[n("div",se,[n("div",{class:F(["custom-tab",{active:e.currentTab==2}]),onClick:o[0]||(o[0]=r=>w(2))},"\u624B\u673A\u767B\u5F55",2),n("div",{class:F(["custom-tab",{active:e.currentTab==1}]),onClick:o[1]||(o[1]=r=>w(1))},"\u5BC6\u7801\u767B\u5F55",2)]),e.currentTab==1?(_(),p(y,{key:0},[t(i,{field:"username",rules:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[t(l,{modelValue:s.username,"onUpdate:modelValue":o[2]||(o[2]=r=>s.username=r),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7","allow-clear":""},null,8,["modelValue"])]),_:1}),t(i,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[t(f,{modelValue:s.password,"onUpdate:modelValue":o[3]||(o[3]=r=>s.password=r),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","allow-clear":""},null,8,["modelValue"])]),_:1}),t(A,{size:16,direction:"vertical"},{default:a(()=>[n("div",ae,[t(b,{checked:"rememberPwd","model-value":s.rememberPwd,onChange:I},{default:a(()=>[ue]),_:1},8,["model-value"]),t(v,null,{default:a(()=>[ne]),_:1})]),t(m,{class:"login-btn",type:"primary","html-type":"submit",long:"",loading:D(B)},{default:a(()=>[re]),_:1},8,["loading"])]),_:1})],64)):(_(),p(y,{key:1},[t(i,{field:"phone",rules:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"},{match:/^(?:(?:\+|00)86)?1[3-9]\d{9}$/,message:"\u624B\u673A\u53F7\u7801\u683C\u5F0F\u4E0D\u6B63\u786E"}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[t(l,{modelValue:s.phone,"onUpdate:modelValue":o[4]||(o[4]=r=>s.phone=r),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801","allow-clear":""},null,8,["modelValue"])]),_:1},8,["rules"]),t(i,{field:"verificationCode",rules:[{required:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{match:/\d{6}/,message:"\u9A8C\u8BC1\u7801\u5FC5\u987B\u4E3A6\u4F4D\u957F\u5EA6\u7684\u6570\u5B57"}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[t(T,{modelValue:s.verificationCode,"onUpdate:modelValue":o[5]||(o[5]=r=>s.verificationCode=r),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801","search-button":"","allow-clear":"",class:F(["valicode-wrap",{disabled:e.timer}]),onSearch:P},{"button-default":a(()=>[c(R(e.textMessage),1)]),_:1},8,["modelValue","class"])]),_:1}),t(A,{size:16,direction:"vertical"},{default:a(()=>[t(m,{long:"",class:"mt22 login-btn",type:"primary","html-type":"submit",loading:D(B)},{default:a(()=>[ie]),_:1},8,["loading"])]),_:1})],64))]),_:1},8,["model"])])}}});const de=E(le,[["__scopeId","data-v-d8353163"]]),ce=d=>(O("data-v-f9796eb8"),d=d(),j(),d),me={class:"container"},_e=ce(()=>n("div",{class:"logo"},[n("img",{alt:"logo",src:Q}),n("div",{class:"logo-text"},"\u4F53\u6D4B\u7BA1\u7406\u4E91\u5E73\u53F0")],-1)),pe={class:"content"},ge={class:"content-inner"},fe={class:"footer"},be=V({__name:"index",setup(d){return(h,g)=>(_(),p("div",me,[_e,n("div",pe,[n("div",ge,[t(de)])]),n("div",fe,[t(J)])]))}});const Ee=E(be,[["__scopeId","data-v-f9796eb8"]]);export{Ee as default};
