import{_ as Y}from"./index.500a2a7a.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               */import{d as Z,e as x,r as h,c as E,z as $,aL as C,C as ee,D as te,aI as e,aH as t,aN as c,aO as F,u as p,aR as b,b1 as oe,b2 as ae,be as ne,bz as ue,bA as le,bs as se,b8 as re,aW as de,bk as ce,b6 as ie,bq as pe,bl as _e}from"./arco.f893a4fd.js";import{u as me}from"./loading.c2b41a1f.js";import{f as fe}from"./vue.de90413b.js";import{j as Ce,d as ge}from"./dataview.9e365703.js";import{d as B,g as v}from"./enums.4b6db02f.js";import"./chart.3eba121e.js";const xe={class:"container"},he=c("\u7537"),Fe=c("\u5973"),be=c(" \u67E5\u8BE2 "),Be=c(" \u91CD\u7F6E "),we=c(" \u8FD4\u56DE "),Ne=Z({__name:"scoreLevel",setup(Re){const{loading:y,setLoading:I}=me(!0),w=fe(),N=x(),g=x([]),n=h({planCode:"",totalRate:"",gradeCode:"",schoolCode:"",classesCode:"",projectCode:""}),u=h({sex:"",studentName:"",identityCard:"",userStudentNo:""}),R=x([]),A=[{title:"\u5E8F\u53F7",dataIndex:"index",width:70,render:({rowIndex:a})=>a+1},{title:"\u5B66\u751F\u59D3\u540D",dataIndex:"studentName",width:140},{title:"\u6027\u522B",dataIndex:"sex",width:100,render:({record:a})=>B[a.sex]},{title:"\u5E74\u7EA7",dataIndex:"gradeName",width:140},{title:"\u73ED\u7EA7",dataIndex:"simpleName",width:140},{title:"\u5B66\u7C4D\u53F7",dataIndex:"userStudentNo",width:140},{title:"\u6807\u51C6\u5206",dataIndex:"standardScore",width:140},{title:"\u9644\u52A0\u5206",dataIndex:"totalExtraPoint",width:140},{title:"\u4F53\u6D4B\u603B\u5206",dataIndex:"totalWeightScore",width:140},{title:"\u603B\u5206\u7B49\u7EA7",dataIndex:"totalRate",width:140,render:({record:a})=>a.totalRate?v[Number(a.totalRate)]:"--"}],l=h({total:0,current:1,pageSize:10,showTotal:!0,showJumper:!0,showPageSize:!0}),_=async()=>{const{succ:a,data:o,msg:s}=await Ce({sex:u.sex,planCode:n.planCode,totalRate:n.totalRate,gradeCode:n.gradeCode,schoolCode:n.schoolCode,classesCode:n.classesCode,projectCode:n.projectCode,studentName:u.studentName,identityCard:u.identityCard,userStudentNo:u.userStudentNo,pageSize:l.pageSize,pageNum:l.current});a?(R.value=(o==null?void 0:o.list)||o||[],l.total=(o==null?void 0:o.total)||0):b.error(s),I(!1)},V=async()=>{const{succ:a,msg:o,data:s}=await ge({planCode:n.planCode});a?g.value=s||[]:b.error(o)},j=()=>{l.current=1,_()},k=()=>{N.value.resetFields(),l.current=1,_()},z=()=>{b.warning("\u529F\u80FD\u6682\u672A\u5F00\u653E")},H=a=>{l.current=a,_()},L=a=>{l.pageSize=a,l.current=1,_()},P=()=>{w.back()},q=E(()=>n.totalRate==="1"?"\u4F18\u79C0\u4EBA\u6570":n.totalRate==="2"?"\u826F\u597D\u4EBA\u6570":n.totalRate==="3"?"\u53CA\u683C\u4EBA\u6570":"\u4E0D\u53CA\u683C\u4EBA\u6570"),T=E(()=>{var a;return g.value.length?(a=g.value.find(o=>o.projectCode===n.projectCode))==null?void 0:a.projectName:"--"});return $(async()=>{const{query:{planCode:a,totalRate:o,schoolCode:s,gradeCode:i,classesCode:r,projectCode:m}}=w.currentRoute.value;n.planCode=a,n.totalRate=o,n.schoolCode=s,n.gradeCode=i,n.classesCode=r,n.projectCode=m,await V(),await _()}),(a,o)=>{const s=oe,i=ae,r=ne,m=ue,U=le,S=se,M=re,O=C("icon-search"),f=de,W=C("icon-refresh"),D=ce,J=C("icon-export"),G=ie,K=pe,Q=_e,X=C("icon-arrow-left");return ee(),te("div",xe,[e(D,{class:"general-card mb20"},{title:t(()=>[c(F(p(T))+F(p(q)),1)]),default:t(()=>[e(S,null,{default:t(()=>[e(r,{flex:"auto"},{default:t(()=>[e(M,{ref_key:"goodFormRef",ref:N,model:u,"label-col-props":{span:7},"wrapper-col-props":{span:17}},{default:t(()=>[e(S,{gutter:16},{default:t(()=>[e(r,{flex:"340px"},{default:t(()=>[e(i,{field:"studentName",label:"\u5B66\u751F\u540D\u79F0"},{default:t(()=>[e(s,{modelValue:u.studentName,"onUpdate:modelValue":o[0]||(o[0]=d=>u.studentName=d),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{flex:"340px"},{default:t(()=>[e(i,{field:"sex",label:"\u6027\u522B"},{default:t(()=>[e(U,{modelValue:u.sex,"onUpdate:modelValue":o[1]||(o[1]=d=>u.sex=d),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(m,{value:p(B).\u7537},{default:t(()=>[he]),_:1},8,["value"]),e(m,{value:p(B).\u5973},{default:t(()=>[Fe]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{flex:"340px"},{default:t(()=>[e(i,{field:"userStudentNo",label:"\u5B66\u7C4D\u53F7"},{default:t(()=>[e(s,{modelValue:u.userStudentNo,"onUpdate:modelValue":o[2]||(o[2]=d=>u.userStudentNo=d),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{flex:"340px"},{default:t(()=>[e(i,{field:"identityCard",label:"\u8EAB\u4EFD\u8BC1\u53F7"},{default:t(()=>[e(s,{modelValue:u.identityCard,"onUpdate:modelValue":o[3]||(o[3]=d=>u.identityCard=d),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(r,{flex:"224px",class:"text-rt"},{default:t(()=>[e(f,{type:"primary",class:"mr16",onClick:j},{icon:t(()=>[e(O)]),default:t(()=>[be]),_:1}),e(f,{onClick:k},{icon:t(()=>[e(W)]),default:t(()=>[Be]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,{loading:p(y),style:{width:"100%"}},{default:t(()=>[e(D,{class:"general-card"},{default:t(()=>[e(G,{class:"mb16 mt16"},{default:t(()=>[e(f,{type:"primary",onClick:z},{icon:t(()=>[e(J)]),default:t(()=>[c(" \u5BFC\u51FA\u6240\u6709"+F(p(v)[Number(n.totalRate)])+"\u5B66\u751F\u540D\u5355 ",1)]),_:1})]),_:1}),e(K,{stripe:"",scroll:{x:2e3},"row-key":"id",bordered:!1,columns:A,data:R.value,hoverable:!1,pagination:l,onPageChange:H,onPageSizeChange:L},null,8,["data","pagination"])]),_:1})]),_:1},8,["loading"]),e(f,{class:"cus-back-btn",size:"small",onClick:P},{icon:t(()=>[e(X)]),default:t(()=>[we]),_:1})])}}});const We=Y(Ne,[["__scopeId","data-v-f36ecb46"]]);export{We as default};
